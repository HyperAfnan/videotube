{"openapi":"3.0.0","info":{"title":"Chai code backend docs","version":"1.0.0","description":"API Documentation for your Express backend","contact":{"name":"Mohammad Afnan"}},"servers":[{"url":"http://localhost:5000/api/v1","description":"Development server"},{"url":"192.168.217.18:5000/api/v1","description":"Local network server"},{"url":"https://chai-code-backend.onrender.com/api/v1","description":"Production server"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"User":{"type":"object","required":["username","email","fullname","password"],"properties":{"_id":{"type":"string","description":"Auto-generated ID of the user"},"username":{"type":"string","description":"Unique username for the user"},"email":{"type":"string","format":"email","description":"User's email address"},"fullname":{"type":"string","description":"User's full name"},"avatar":{"type":"string","description":"URL to the user's avatar image"},"coverImage":{"type":"string","description":"URL to the user's cover image"},"password":{"type":"string","format":"password","description":"User's password (not returned in responses)"},"refreshToken":{"type":"string","description":"JWT refresh token for the user"},"createdAt":{"type":"string","format":"date-time","description":"Timestamp when user was created"},"updatedAt":{"type":"string","format":"date-time","description":"Timestamp when user was last updated"}}},"Comment":{"type":"object","required":["content"],"properties":{"_id":{"type":"string","description":"Auto-generated ID of the comment"},"content":{"type":"string","description":"Content of the comment"},"owner":{"type":"string","description":"User ID of the comment owner"},"video":{"type":"string","description":"Video ID if the comment is on a video"},"tweet":{"type":"string","description":"Tweet ID if the comment is on a tweet"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Like":{"type":"object","properties":{"_id":{"type":"string","description":"Auto-generated ID of the like"},"video":{"type":"string","description":"ID of the liked video (if applicable)"},"comment":{"type":"string","description":"ID of the liked comment (if applicable)"},"tweet":{"type":"string","description":"ID of the liked tweet (if applicable)"},"likedBy":{"type":"string","description":"User ID of the person who created the like"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Playlist":{"type":"object","required":["name","owner"],"properties":{"_id":{"type":"string","description":"Auto-generated ID of the playlist"},"name":{"type":"string","description":"Name of the playlist"},"description":{"type":"string","description":"Description of the playlist"},"videos":{"type":"array","items":{"type":"string"},"description":"Array of video IDs in the playlist"},"owner":{"type":"string","description":"User ID of the playlist owner"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Subscription":{"type":"object","required":["subscriber","channel"],"properties":{"_id":{"type":"string","description":"Auto-generated ID of the subscription"},"subscriber":{"type":"string","description":"User ID who subscribed to the channel"},"channel":{"type":"string","description":"User ID of the channel being subscribed to"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Tweet":{"type":"object","required":["content","owner"],"properties":{"_id":{"type":"string","description":"Auto-generated ID of the tweet"},"content":{"type":"string","description":"Content of the tweet"},"owner":{"type":"string","description":"User ID of the tweet owner"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"Video":{"type":"object","required":["title","description","videoFile","thumbnail","owner"],"properties":{"_id":{"type":"string","description":"Auto-generated ID of the video"},"videoFile":{"type":"string","description":"URL of the video file"},"thumbnail":{"type":"string","description":"URL of the video thumbnail"},"title":{"type":"string","description":"Title of the video"},"description":{"type":"string","description":"Description of the video"},"duration":{"type":"number","description":"Duration of the video in seconds"},"views":{"type":"number","description":"Number of video views"},"isPublished":{"type":"boolean","description":"Whether the video is published or not"},"owner":{"type":"string","description":"User ID of the video owner"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}},"paths":{"/user/register":{"post":{"summary":"Register a new user","tags":["Users"],"description":"Register a new user with avatar and cover image","requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["username","email","password","fullname"],"properties":{"username":{"type":"string","description":"Unique username for the user"},"email":{"type":"string","format":"email","description":"User's email address"},"password":{"type":"string","format":"password","description":"User's password"},"fullname":{"type":"string","description":"User's full name"},"avatar":{"type":"string","format":"binary","description":"User's profile picture"},"coverImage":{"type":"string","format":"binary","description":"User's cover image"}}}}}},"responses":{"201":{"description":"User registered successfully","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string","description":"The user ID"},"username":{"type":"string","description":"User's username"},"email":{"type":"string","description":"User's email"},"fullname":{"type":"string","description":"User's full name"},"avatar":{"type":"string","description":"URL to user's avatar"},"coverImage":{"type":"string","description":"URL to user's cover image"}}}}}},"400":{"description":"Invalid input or username/email already exists"}}}},"/user/confirmEmail/{confirmationToken}":{"get":{"summary":"Confirm user email address","tags":["Users"],"description":"Confirm a user's email address using a confirmation token sent to their email.","parameters":[{"in":"path","name":"confirmationToken","schema":{"type":"string"},"required":true,"description":"Email confirmation token"}],"responses":{"200":{"description":"Email confirmed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Email confirmed successfully"}}}}}},"400":{"description":"Invalid or expired confirmation token"}}}},"/user/login":{"post":{"summary":"Login a user","tags":["Users"],"description":"Authenticate a user and generate access & refresh tokens","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email","description":"User's email"},"password":{"type":"string","format":"password","description":"User's password"}}}}}},"responses":{"200":{"description":"User logged in successfully","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token"},"refreshToken":{"type":"string","description":"JWT refresh token"},"user":{"type":"object","properties":{"_id":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"fullname":{"type":"string"},"avatar":{"type":"string"}}}}}}}},"401":{"description":"Invalid credentials"}}}},"/user/logout":{"post":{"summary":"Logout a user","tags":["Users"],"description":"Invalidate user's refresh token","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User logged out successfully"},"401":{"description":"Unauthorized or invalid token"}}}},"/user/refreshToken":{"post":{"summary":"Refresh access token","tags":["Users"],"description":"Generate new access token using refresh token","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"type":"string","description":"JWT refresh token"}}}}}},"responses":{"200":{"description":"New access token generated","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string","description":"New JWT access token"},"refreshToken":{"type":"string","description":"New JWT refresh token"}}}}}},"401":{"description":"Invalid refresh token"}}}},"/user/forgotPassword":{"post":{"summary":"Send password reset email","tags":["Users"],"description":"Send a password reset link to the user's email address.","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email","description":"User's email address"}}}}}},"responses":{"200":{"description":"Password reset email sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Password reset email sent"}}}}}},"400":{"description":"Invalid email or user not found"}}}},"/user/resetPassword/{token}":{"patch":{"summary":"Reset password using token","tags":["Users"],"description":"Reset the user's password using a valid reset token.","parameters":[{"in":"path","name":"token","schema":{"type":"string"},"required":true,"description":"Password reset token"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["newPassword"],"properties":{"newPassword":{"type":"string","format":"password","description":"The new password"}}}}}},"responses":{"200":{"description":"Password reset successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Password has been reset"}}}}}},"400":{"description":"Invalid or expired token, or invalid password"}}}},"/user/changePassword":{"patch":{"summary":"Change user password","tags":["Users"],"description":"Update the user's password","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["oldPassword","newPassword"],"properties":{"oldPassword":{"type":"string","format":"password","description":"User's current password"},"newPassword":{"type":"string","format":"password","description":"User's new password"}}}}}},"responses":{"200":{"description":"Password changed successfully"},"400":{"description":"Incorrect old password or invalid new password"},"401":{"description":"Unauthorized"}}}},"/user/delete":{"delete":{"summary":"Delete user account","tags":["Users"],"description":"Delete the current user's account","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User account deleted successfully"},"401":{"description":"Unauthorized"}}}},"/comments/v/{id}":{"get":{"summary":"Get all comments for a video","tags":["Comments"],"description":"Retrieve all comments associated with a specific video","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Video ID"}],"responses":{"200":{"description":"List of comments retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Video not found"}}},"post":{"summary":"Add comment to a video","tags":["Comments"],"description":"Add a new comment to a specific video","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Video ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"Content of the comment"}}}}}},"responses":{"201":{"description":"Comment added successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"},"404":{"description":"Video not found"}}}},"/comments/t/{id}":{"get":{"summary":"Get all comments for a tweet","tags":["Comments"],"description":"Retrieve all comments associated with a specific tweet","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Tweet ID"}],"responses":{"200":{"description":"List of comments retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Tweet not found"}}},"post":{"summary":"Add comment to a tweet","tags":["Comments"],"description":"Add a new comment to a specific tweet","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Tweet ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"Content of the comment"}}}}}},"responses":{"201":{"description":"Comment added successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"},"404":{"description":"Tweet not found"}}}},"/comments/c/{commentId}":{"patch":{"summary":"Update a comment","tags":["Comments"],"description":"Update content of an existing comment","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"commentId","schema":{"type":"string"},"required":true,"description":"Comment ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"New content of the comment"}}}}}},"responses":{"200":{"description":"Comment updated successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this comment"},"404":{"description":"Comment not found"}}},"delete":{"summary":"Delete a comment","tags":["Comments"],"description":"Delete an existing comment","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"commentId","schema":{"type":"string"},"required":true,"description":"Comment ID"}],"responses":{"200":{"description":"Comment deleted successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this comment"},"404":{"description":"Comment not found"}}}},"/dashboard/stats":{"get":{"summary":"Get channel statistics","tags":["Dashboard"],"description":"Retrieve statistics for the current user's channel","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Channel statistics retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"totalVideos":{"type":"integer","description":"Total number of videos uploaded"},"totalViews":{"type":"integer","description":"Total number of views across all videos"},"totalSubscribers":{"type":"integer","description":"Total number of channel subscribers"},"totalLikes":{"type":"integer","description":"Total number of likes across all videos"}}}}}},"401":{"description":"Unauthorized"}}}},"/dashboard/videos":{"get":{"summary":"Get channel videos","tags":["Dashboard"],"description":"Retrieve all videos uploaded by the current user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Channel videos retrieved successfully"},"401":{"description":"Unauthorized"}}}},"/health":{"get":{"summary":"Check API health","tags":["Health"],"description":"Check if the API is up and running","responses":{"200":{"description":"API is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"message":{"type":"string","example":"API is up and running"},"timestamp":{"type":"string","format":"date-time"}}}}}}}}},"/likes/toggle/v/{videoId}":{"post":{"summary":"Toggle like on a video","tags":["Likes"],"description":"Toggle like status on a specific video","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"ID of the video to toggle like"}],"responses":{"200":{"description":"Video like status toggled successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Video not found"}}}},"/likes/toggle/c/{commentId}":{"post":{"summary":"Toggle like on a comment","tags":["Likes"],"description":"Toggle like status on a specific comment","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"commentId","schema":{"type":"string"},"required":true,"description":"ID of the comment to toggle like"}],"responses":{"200":{"description":"Comment like status toggled successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Comment not found"}}}},"/likes/toggle/t/{tweetId}":{"post":{"summary":"Toggle like on a tweet","tags":["Likes"],"description":"Toggle like status on a specific tweet","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"tweetId","schema":{"type":"string"},"required":true,"description":"ID of the tweet to toggle like"}],"responses":{"200":{"description":"Tweet like status toggled successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Tweet not found"}}}},"/likes/videos/{userId}":{"get":{"summary":"Get liked videos for a user","tags":["Likes"],"description":"Retrieve all videos liked by the specified user","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"},"description":"The ID of the user whose liked videos are being retrieved"}],"responses":{"200":{"description":"Liked videos retrieved successfully"},"401":{"description":"Unauthorized"}}}},"/playlist":{"post":{"summary":"Create a new playlist","tags":["Playlists"],"description":"Create a new playlist for the authenticated user","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","description":"Name of the playlist"},"description":{"type":"string","description":"Description of the playlist"}}}}}},"responses":{"201":{"description":"Playlist created successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"}}}},"/playlist/{playlistId}":{"get":{"summary":"Get a playlist by ID","tags":["Playlists"],"description":"Retrieve a playlist and its videos by playlist ID","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"playlistId","schema":{"type":"string"},"required":true,"description":"Playlist ID"}],"responses":{"200":{"description":"Playlist retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Playlist not found"}}},"patch":{"summary":"Update a playlist","tags":["Playlists"],"description":"Update an existing playlist's name or description","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"playlistId","schema":{"type":"string"},"required":true,"description":"Playlist ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"New name for the playlist"},"description":{"type":"string","description":"New description for the playlist"}}}}}},"responses":{"200":{"description":"Playlist updated successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this playlist"},"404":{"description":"Playlist not found"}}},"delete":{"summary":"Delete a playlist","tags":["Playlists"],"description":"Delete an existing playlist","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"playlistId","schema":{"type":"string"},"required":true,"description":"Playlist ID"}],"responses":{"200":{"description":"Playlist deleted successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this playlist"},"404":{"description":"Playlist not found"}}}},"/playlist/add/{videoId}/{playlistId}":{"patch":{"summary":"Add video to playlist","tags":["Playlists"],"description":"Add a video to an existing playlist","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"Video ID to add to the playlist"},{"in":"path","name":"playlistId","schema":{"type":"string"},"required":true,"description":"Playlist ID to add the video to"}],"responses":{"200":{"description":"Video added to playlist successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this playlist"},"404":{"description":"Playlist or video not found"}}}},"/playlist/remove/{videoId}/{playlistId}":{"patch":{"summary":"Remove video from playlist","tags":["Playlists"],"description":"Remove a video from an existing playlist","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"Video ID to remove from the playlist"},{"in":"path","name":"playlistId","schema":{"type":"string"},"required":true,"description":"Playlist ID to remove the video from"}],"responses":{"200":{"description":"Video removed from playlist successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this playlist"},"404":{"description":"Playlist or video not found"}}}},"/playlist/user/{userId}":{"get":{"summary":"Get user's playlists","tags":["Playlists"],"description":"Retrieve all playlists created by a specific user","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string"},"required":true,"description":"User ID whose playlists to retrieve"}],"responses":{"200":{"description":"User's playlists retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/subscriptions/c/{channelId}":{"get":{"summary":"Get channel subscribers","tags":["Subscriptions"],"description":"Retrieve all subscribers of a specific channel","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"channelId","schema":{"type":"string"},"required":true,"description":"ID of the channel to get subscribers for"}],"responses":{"200":{"description":"List of subscribers retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Channel not found"}}},"post":{"summary":"Toggle subscription","tags":["Subscriptions"],"description":"Subscribe or unsubscribe from a channel","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"channelId","schema":{"type":"string"},"required":true,"description":"ID of the channel to subscribe/unsubscribe"}],"responses":{"200":{"description":"Subscription toggled successfully"},"400":{"description":"Cannot subscribe to your own channel"},"401":{"description":"Unauthorized"},"404":{"description":"Channel not found"}}}},"/subscriptions/u/{subscriberId}":{"get":{"summary":"Get subscribed channels","tags":["Subscriptions"],"description":"Retrieve all channels that a user is subscribed to","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"subscriberId","schema":{"type":"string"},"required":true,"description":"ID of the user to get subscribed channels for"}],"responses":{"200":{"description":"List of subscribed channels retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/tweets":{"post":{"summary":"Create a new tweet","tags":["Tweets"],"description":"Create a new tweet for the authenticated user","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"Content of the tweet"}}}}}},"responses":{"201":{"description":"Tweet created successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"}}},"get":{"summary":"Get all tweets","tags":["Tweets"],"description":"Retrieve all tweets with optional filtering","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1},"description":"Page number for pagination"},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1},"description":"Number of tweets per page"}],"responses":{"200":{"description":"List of tweets retrieved successfully"},"401":{"description":"Unauthorized"}}}},"/tweets/{tweetId}":{"patch":{"summary":"Update a tweet","tags":["Tweets"],"description":"Update an existing tweet","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"tweetId","schema":{"type":"string"},"required":true,"description":"ID of the tweet to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["content"],"properties":{"content":{"type":"string","description":"New content of the tweet"}}}}}},"responses":{"200":{"description":"Tweet updated successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this tweet"},"404":{"description":"Tweet not found"}}},"delete":{"summary":"Delete a tweet","tags":["Tweets"],"description":"Delete an existing tweet","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"tweetId","schema":{"type":"string"},"required":true,"description":"ID of the tweet to delete"}],"responses":{"200":{"description":"Tweet deleted successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this tweet"},"404":{"description":"Tweet not found"}}}},"/tweets/user/{userId}":{"get":{"summary":"Get tweets by user","tags":["Tweets"],"description":"Retrieve all tweets created by a specific user","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","schema":{"type":"string"},"required":true,"description":"ID of the user whose tweets to retrieve"}],"responses":{"200":{"description":"List of user's tweets retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"User not found"}}}},"/user/updateDetails":{"patch":{"summary":"Update user details","tags":["Users"],"description":"Update user account details","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"fullname":{"type":"string","description":"User's new full name"},"email":{"type":"string","format":"email","description":"User's new email"}}}}}},"responses":{"200":{"description":"User details updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Invalid details provided"},"401":{"description":"Unauthorized"}}}},"/user/updateAvatar":{"patch":{"summary":"Update user avatar","tags":["Users"],"description":"Update user's profile picture","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["avatar"],"properties":{"avatar":{"type":"string","format":"binary","description":"User's new profile picture"}}}}}},"responses":{"200":{"description":"Avatar updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"avatar":{"type":"string","description":"URL of the updated avatar"}}}}}},"400":{"description":"Invalid image format"},"401":{"description":"Unauthorized"}}}},"/user/updateCoverImage":{"patch":{"summary":"Update user cover image","tags":["Users"],"description":"Update user's profile cover image","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["coverImage"],"properties":{"coverImage":{"type":"string","format":"binary","description":"User's new cover image"}}}}}},"responses":{"200":{"description":"Cover image updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"coverImage":{"type":"string","description":"URL of the updated cover image"}}}}}},"400":{"description":"Invalid image format"},"401":{"description":"Unauthorized"}}}},"/user/history":{"get":{"summary":"Get user watch history","tags":["Users"],"description":"Retrieve the user's video watch history","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Watch history retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Video"}}}}},"401":{"description":"Unauthorized"}}}},"/user/ch/{username}":{"get":{"summary":"Get user channel profile","tags":["Users"],"description":"Retrieve a user's channel profile by username","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"username","schema":{"type":"string"},"required":true,"description":"The username of the channel"}],"responses":{"200":{"description":"Channel profile retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"fullname":{"type":"string"},"avatar":{"type":"string"},"coverImage":{"type":"string"},"subscribersCount":{"type":"number"},"isSubscribed":{"type":"boolean"}}}}}},"401":{"description":"Unauthorized"},"404":{"description":"Channel not found"}}}},"/videos":{"get":{"summary":"Get all videos","tags":["Videos"],"description":"Retrieve all published videos with optional filtering","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1},"description":"Page number for pagination"},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1},"description":"Number of videos per page"},{"in":"query","name":"q","schema":{"type":"string"},"description":"Search term for video title or description"},{"in":"query","name":"sortBy","schema":{"type":"string","enum":["createdAt","views","duration"]},"description":"Field to sort by"},{"in":"query","name":"sortType","schema":{"type":"string","enum":["asc","desc"]},"description":"Sort order (ascending or descending)"},{"in":"query","name":"userId","schema":{"type":"string"},"description":"User ID to filter videos by owner"}],"responses":{"200":{"description":"List of videos retrieved successfully"},"401":{"description":"Unauthorized"}}},"post":{"summary":"Upload a new video","tags":["Videos"],"description":"Upload and publish a new video with thumbnail","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["title","description","videoFile","thumbnail"],"properties":{"videoFile":{"type":"string","format":"binary","description":"Video file to upload"},"thumbnail":{"type":"string","format":"binary","description":"Thumbnail image for the video"},"title":{"type":"string","description":"Title of the video"},"description":{"type":"string","description":"Description of the video"}}}}}},"responses":{"201":{"description":"Video uploaded successfully"},"400":{"description":"Invalid input or file format"},"401":{"description":"Unauthorized"}}}},"/videos/{videoId}":{"get":{"summary":"Get video by ID","tags":["Videos"],"description":"Retrieve a specific video by its ID","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"ID of the video to retrieve"}],"responses":{"200":{"description":"Video retrieved successfully"},"401":{"description":"Unauthorized"},"404":{"description":"Video not found"}}},"patch":{"summary":"Update video details","tags":["Videos"],"description":"Update a video's title, description, or thumbnail","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"ID of the video to update"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"New title of the video"},"description":{"type":"string","description":"New description of the video"},"thumbnail":{"type":"string","format":"binary","description":"New thumbnail image for the video"}}}}}},"responses":{"200":{"description":"Video updated successfully"},"400":{"description":"Invalid input"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this video"},"404":{"description":"Video not found"}}},"delete":{"summary":"Delete a video","tags":["Videos"],"description":"Delete a specific video","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"ID of the video to delete"}],"responses":{"200":{"description":"Video deleted successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this video"},"404":{"description":"Video not found"}}}},"/videos/toggle/publish/{videoId}":{"patch":{"summary":"Toggle video publish status","tags":["Videos"],"description":"Toggle a video's publish status between published and unpublished","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"ID of the video to toggle publish status"}],"responses":{"200":{"description":"Video publish status toggled successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - User doesn't own this video"},"404":{"description":"Video not found"}}}},"/videos/download/{videoId}":{"get":{"summary":"Redirect to the video file URL","tags":["Videos"],"description":"Redirects the client to the direct URL of the video file associated with the specified video ID.","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"videoId","schema":{"type":"string"},"required":true,"description":"ID of the video to download"}],"responses":{"302":{"description":"Redirect to the video file URL","headers":{"Location":{"description":"The URL of the video file","schema":{"type":"string","format":"uri"}}}},"401":{"description":"Unauthorized"},"404":{"description":"Video not found"}}}}},"tags":[{"name":"Auth","description":"API endpoints for auth management"},{"name":"Comments","description":"API endpoints for managing comments"},{"name":"Dashboard","description":"API endpoints for user dashboard"},{"name":"Health","description":"API health check endpoints"},{"name":"Likes","description":"API endpoints for managing likes"},{"name":"Playlists","description":"API endpoints for managing playlists"},{"name":"Subscriptions","description":"API endpoints for managing channel subscriptions"},{"name":"Tweets","description":"API endpoints for managing tweets"},{"name":"Users","description":"API endpoints for user management"},{"name":"Videos","description":"API endpoints for managing videos"}]}
